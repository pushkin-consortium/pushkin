
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Pushkin provides a customizable, scalable ecosystem for massive online psychological experiments.">
      
      
      
      
        <link rel="prev" href="../../site-templates/site-basic/">
      
      
        <link rel="next" href="../exp-basic/">
      
      
      <link rel="icon" href="../../assets/pushkin_bw_no_text.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.32">
    
    
      
        <title>Overview of experiment templates - Pushkin</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview-of-experiment-templates" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Pushkin" class="md-header__button md-logo" aria-label="Pushkin" data-md-component="logo">
      
  <img src="../../assets/pushkin_bw_no_text.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pushkin
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview of experiment templates
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pushkin-consortium/pushkin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pushkin-consortium/pushkin
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pushkin" class="md-nav__button md-logo" aria-label="Pushkin" data-md-component="logo">
      
  <img src="../../assets/pushkin_bw_no_text.png" alt="logo">

    </a>
    Pushkin
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pushkin-consortium/pushkin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pushkin-consortium/pushkin
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/deploying-to-aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying to AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/simple-experiment-tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple experiment tutorial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Site templates
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Site templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../site-templates/site-templates-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview of site templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../site-templates/site-basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    site-basic
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment templates
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Experiment templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Overview of experiment templates
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Overview of experiment templates
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#currently-available-experiment-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Currently available experiment templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-install-an-experiment-template" class="md-nav__link">
    <span class="md-ellipsis">
      How to install an experiment template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizing-experiments" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing Experiments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customizing Experiments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-additional-jspsych-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Adding additional jsPsych plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-jspsych-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Adding custom jsPsych plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-static-assets" class="md-nav__link">
    <span class="md-ellipsis">
      Adding static assets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing-experiment-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Contributing experiment templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automated-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Automated Testing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experiment-component-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Component Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment Component Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiment-configyaml-files" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Config.yaml Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment Config.yaml Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experimentname" class="md-nav__link">
    <span class="md-ellipsis">
      experimentName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortname" class="md-nav__link">
    <span class="md-ellipsis">
      shortName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apicontrollers" class="md-nav__link">
    <span class="md-ellipsis">
      apiControllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="apiControllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mountpath" class="md-nav__link">
    <span class="md-ellipsis">
      mountPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" class="md-nav__link">
    <span class="md-ellipsis">
      worker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location_1" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    <span class="md-ellipsis">
      service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webpage" class="md-nav__link">
    <span class="md-ellipsis">
      webPage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="webPage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location_2" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrations" class="md-nav__link">
    <span class="md-ellipsis">
      migrations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="migrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location_3" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seeds" class="md-nav__link">
    <span class="md-ellipsis">
      seeds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="seeds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location_4" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    <span class="md-ellipsis">
      database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logo-text-tagline-duration-other" class="md-nav__link">
    <span class="md-ellipsis">
      logo, text, tagline, duration, other
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker-component-migrations-and-seeds" class="md-nav__link">
    <span class="md-ellipsis">
      Worker Component, Migrations, and Seeds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Worker Component, Migrations, and Seeds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiment-worker-component" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Worker Component
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Migrations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-seeds" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Seeds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-web-page-component" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Web Page Component
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recommended Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assets" class="md-nav__link">
    <span class="md-ellipsis">
      Assets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-the-client" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing the client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exp-basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exp-basic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exp-lexical-decision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exp-lexical-decision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exp-grammaticality-judgment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exp-grammaticality-judgment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exp-self-paced-reading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exp-self-paced-reading
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Packages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Packages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/packages-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview of packages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/pushkin-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pushkin-cli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/pushkin-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pushkin-api
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/pushkin-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pushkin-client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/pushkin-worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pushkin-worker
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/technologies-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview of technologies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/getting-started-on-development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started on development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/contributions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Support
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../support/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../support/github-discussions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Discussions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about-pushkin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Pushkin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/pushkin-license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#currently-available-experiment-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Currently available experiment templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-install-an-experiment-template" class="md-nav__link">
    <span class="md-ellipsis">
      How to install an experiment template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizing-experiments" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing Experiments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customizing Experiments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-additional-jspsych-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Adding additional jsPsych plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-jspsych-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      Adding custom jsPsych plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-static-assets" class="md-nav__link">
    <span class="md-ellipsis">
      Adding static assets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing-experiment-templates" class="md-nav__link">
    <span class="md-ellipsis">
      Contributing experiment templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automated-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Automated Testing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experiment-component-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Component Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment Component Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiment-configyaml-files" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Config.yaml Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment Config.yaml Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experimentname" class="md-nav__link">
    <span class="md-ellipsis">
      experimentName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shortname" class="md-nav__link">
    <span class="md-ellipsis">
      shortName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apicontrollers" class="md-nav__link">
    <span class="md-ellipsis">
      apiControllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="apiControllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mountpath" class="md-nav__link">
    <span class="md-ellipsis">
      mountPath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" class="md-nav__link">
    <span class="md-ellipsis">
      worker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location_1" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    <span class="md-ellipsis">
      service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webpage" class="md-nav__link">
    <span class="md-ellipsis">
      webPage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="webPage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location_2" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrations" class="md-nav__link">
    <span class="md-ellipsis">
      migrations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="migrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location_3" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seeds" class="md-nav__link">
    <span class="md-ellipsis">
      seeds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="seeds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location_4" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    <span class="md-ellipsis">
      database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logo-text-tagline-duration-other" class="md-nav__link">
    <span class="md-ellipsis">
      logo, text, tagline, duration, other
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker-component-migrations-and-seeds" class="md-nav__link">
    <span class="md-ellipsis">
      Worker Component, Migrations, and Seeds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Worker Component, Migrations, and Seeds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experiment-worker-component" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Worker Component
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Migrations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-seeds" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Seeds
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-web-page-component" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment Web Page Component
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recommended Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assets" class="md-nav__link">
    <span class="md-ellipsis">
      Assets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-the-client" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing the client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="overview-of-experiment-templates">Overview of experiment templates</h1>
<p>Experiments are added to a Pushkin site via templates. Experiment templates are distributed as <a href="https://www.npmjs.com/org/pushkin-templates">npm packages</a>, which get added to the user's site as dependencies when they run <code>pushkin install experiment</code>. The template files are then unzipped into the corresponding experiment directory and subsequently manipulated by the CLI.</p>
<h2 id="currently-available-experiment-templates">Currently available experiment templates</h2>
<ul>
<li><a href="../exp-basic/"><strong>exp-basic:</strong></a> The basic template generates a simple "Hello, world!" experiment. Use this template if you want to create your own custom Pushkin experiment from scratch.</li>
<li><a href="../exp-grammaticality-judgment/"><strong>exp-grammaticality-judgment:</strong></a> The grammaticality-judgment template includes an experiment in which participants rate the acceptability of target sentences.</li>
<li><a href="../exp-lexical-decision/"><strong>exp-lexical-decision:</strong></a> The lexical-decision template includes an experiment in which participants must choose as quickly as possible whether two strings are true words of English.</li>
<li><a href="../exp-self-paced-reading/"><strong>exp-self-paced-reading:</strong></a> The self-paced-reading template includes an experiment in which participants read sentences presented in word-by-word fashion.</li>
</ul>
<h2 id="how-to-install-an-experiment-template">How to install an experiment template</h2>
<p>In your Pushkin site directory, run:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pushkin install experiment
</span></code></pre></div>
<p>or</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pushkin i exp
</span></code></pre></div>
<p>The other permutations <code>pushkin i experiment</code> and <code>pushkin install exp</code> will likewise work. Follow the CLI's prompts to select the template you want to install. In addition to templates from the main distribution, the CLI also offers you the ability to install templates from:</p>
<ul>
<li><strong>path:</strong> This option allows you to install an experiment template from a local path. In this case, the template must still be implemented as a package and will automatically be locally published using <a href="https://github.com/wclr/yalc"><code>yalc</code></a>. Use this option if you are developing a new experiment template or testing a development version of an existing one.</li>
<li><strong>npm:</strong> The CLI can attempt to install an experiment template from an arbitrary npm package, although obviously this will fail if the package isn't properly set up as a Pushkin experiment template. This option might be appropriate for you if you need to distribute a template you've developed (perhaps as private package) but don't wish to add it to the main Pushkin distribution. Generally, however, we encourage contributions of new templates that might be useful to the the broader Pushkin community (see our <a href="../../developers/contributions/">contributor guidelines</a> and <a href="#contributing-experiment-templates">below</a> for specific notes on contributing experiment templates).</li>
</ul>
<h2 id="customizing-experiments">Customizing Experiments</h2>
<h3 id="adding-additional-jspsych-plugins">Adding additional jsPsych plugins</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As of v1.7 of <code>pushkin-client</code>, every jsPsych trial in a Pushkin experiment needs to have a <code>stimulus</code> parameter in its data object (see this <a href="https://github.com/pushkin-consortium/pushkin/issues/267">issue</a>). Many jsPsych plugins do this by default, but some do not. Consult jsPsych's <a href="https://www.jspsych.org/latest/plugins/list-of-plugins/">plugin documentation</a> for all plugins that you wish to use in your experiment and check that their data object includes a <code>stimulus</code> parameter. If it does not, you can insert one when you define the trial in <code>experiment.js</code>:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;&lt;something_from_my_stimuli&gt;&#39;</span><span class="p">)},</span><span class="w"> </span><span class="c1">// something meaningful</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1">// or</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">},</span><span class="w"> </span><span class="c1">// a placeholder</span>
</span></code></pre></div>
<p><strong>If your trial doesn't output a <code>stimulus</code> parameter, its data will not be sent to the Pushkin database.</strong> Future updates to the Pushkin Client may address this issue.</p>
</div>
<p>The current experiment templates use only a few of jsPsych's <a href="https://www.jspsych.org/latest/plugins/list-of-plugins/">available plugins</a>. Of course, for many experiments, you may want to use additional jsPsych plugins. After installing an experiment template, import the additional plugins at the top of your <code>experiment.js</code> (found in the experiment's <code>/web page/src</code> directory) in the same way as the plugins already included in the template. For example, if your experiment also uses the <code>survey-text</code> and <code>html-button-response</code> plugins, you would add:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">jsPsychSurveyText</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@jspsych/plugin-survey-text&quot;</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">jsPsychHtmlButtonResponse</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@jspsych/plugin-html-button-response&quot;</span><span class="p">;</span>
</span></code></pre></div>
<p>The next time you run <code>pushkin prep</code>, any additional jsPsych plugins you want to import will be automatically added as dependencies to your experiment's web page component (provided they are available via npm -- this does not apply to custom plugins). If, for some reason, you wish to add these dependencies yourself prior to running <code>prep</code>, navigate to the <code>web page</code> directory of the experiment using <code>cd</code> and run <code>yarn add</code> for each particular plugin:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="s1">&#39;experiments/&lt;experiment_name&gt;/web page&#39;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w"> </span>yarn<span class="w"> </span>add<span class="w"> </span>@jspsych/plugin-survey-text
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w"> </span>yarn<span class="w"> </span>add<span class="w"> </span>@jspsych/plugin-html-button-response
</span></code></pre></div>
<p>See <a href="https://classic.yarnpkg.com/lang/en/docs/cli/add/">Yarn's documentation</a> for instructions regarding adding specific versions of a particular package.</p>
<p>This same procedure will work with community-developed plugins available through npm via the <a href="https://github.com/jspsych/jspsych-contrib">jspsych-contrib</a> repository. Just replace <code>@jspsych</code> with <code>@jspsych-contrib</code>. The <a href="../exp-self-paced-reading/">self-paced-reading template</a> uses a <a href="https://github.com/jspsych/jspsych-contrib/blob/main/packages/plugin-self-paced-reading/docs/jspsych-self-paced-reading.md">plugin</a> from <code>jspsych-contrib</code>.</p>
<h3 id="adding-custom-jspsych-plugins">Adding custom jsPsych plugins</h3>
<p>The procedure above only works for jsPsych plugins available through npm. If your experiment makes use of a custom plugin, follow the steps below:</p>
<ol>
<li>Add the plugin file to the <code>web page/src</code> folder of the experiment</li>
<li>Add the plugin towards the top of your experiment.js file like <code>import jsPsychMovingWindow from './jspsych-moving-window';</code></li>
</ol>
<h3 id="adding-static-assets">Adding static assets</h3>
<p>The current experiment templates do not use any image, audio, or video stimuli. In order to reference static assets such as these in your jsPsych timeline, put them in the experiment's <code>web page/src/assets/timeline</code> folder. You can use whatever directory structure inside that folder you please, if, for instance, you want to keep audio files separate from images or divide assets from different experimental lists. When you run <code>pushkin prep</code>, the contents of the timeline assets folder will be copied to <code>pushkin/front-end/public/experiments/&lt;experiment_name&gt;</code>, where <code>&lt;experiment_name&gt;</code> is replaced with the same name as the folder within your site's experiments directory. The folder <code>pushkin/front-end/public</code> can be referenced at runtime using the environment variable <code>process.env.PUBLIC_URL</code>. Thus, when you refer to static assets in your jsPsych timeline, the reference should be as follows.</p>
<p>Assume your experiment's <code>web page/src/assets/timeline</code> directory looks like this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>└── timeline
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    ├── colors
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    │   ├── blue.png
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    │   └── orange.png
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    ├── shapes
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    │   ├── square.jpg
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    │   └── circle.jpg
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    ├── cat.mp4
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    └── dog.mp4
</span></code></pre></div>
<p>Then references to these files in your experiment would look like:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">block_1_stimuli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PUBLIC_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&lt;experiment_name&gt;/colors/blue.png&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PUBLIC_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&lt;experiment_name&gt;/shapes/square.jpg&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PUBLIC_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&lt;experiment_name&gt;/cat.mp4&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="p">];</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="kd">var</span><span class="w"> </span><span class="nx">block_2_stimuli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PUBLIC_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/[experiment_name]/colors/orange.png&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PUBLIC_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/[experiment_name]/shapes/circle.jpg&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PUBLIC_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/[experiment_name]/dog.mp4&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="p">];</span>
</span></code></pre></div>
<p>The other contents of <code>web page/src/assets</code> should be static assets that will be imported by React. The reason for this process of copying to the site's public folder is that jsPsych timelines are not compiled by React. By the time jsPsych runs, the files here are no longer accessible. While you could store timeline assets from the beginning in the site's public folder, keeping them in the experiment's timeline assets folder allows you to store all of a particular experiment's resources in the same place and avoids file name collisions across different experiments. Additionally, your experiment &mdash; along with all its multimedia stimuli &mdash; can now be distributed as a template.</p>
<p>Note that <code>process.env.PUBLIC_URL</code> works for local development. Depending on how you deploy to the web, this environment variable may not be available.</p>
<h2 id="contributing-experiment-templates">Contributing experiment templates</h2>
<p>There is currently no way of automatically packaging up an existing custom experiment into a new experiment template. How complicated the process will be of turning your experiment into a template depends on how much customization you've done (presumably based on the basic template). If all you've done is edit <code>experiment.js</code> and add a few jsPsych plugins, it should be easy to make those same changes to the basic template itself; on the other hand, more complex customizations may present unexpected challenges for creation of a template. We encourage potential template contributors to reach out to the Pushkin team if they encounter any such issues.</p>
<p>In general, we encourage you to follow to the <a href="../../developers/contributions/">contributor guidelines</a>. Additionally, if you'd like to contribute a template, please consider how you can make it maximally general by parameterizing as many of your customizations as you can. Try to imagine what variations on your experiment would be relevant for other researchers and make it easy to implement those variations via changing configuration settings.</p>
<h2 id="automated-testing">Automated Testing</h2>
<p>Pushkin experiment templates come with unit tests using Jest and end-to-end tests using Playwright. See our page on <a href="../../developers/testing/">testing</a> for more information on how to run these tests and extend them for your own site.</p>
<h2 id="experiment-component-structure">Experiment Component Structure</h2>
<p>From the perspective of the web server, a Pushkin experiment involves a number of distinct elements. There is the HTML/JavaScript for the stimulus display and response recording (i.e. the “front end”); there is the database, where data are stored; there is the worker, which handles reading from and writing to the database (plus potentially many other behind-the-scenes tasks!). Finally, there is the API, which communicates between the front end and the worker.</p>
<p>For convenience, all the code is kept in the experiments folder as defined in <code>pushkin.yaml</code>. The CLI command <a href="../../packages/pushkin-cli/#prep"><code>prep</code></a> automagically redistributes this code where it needs to go.</p>
<h3 id="experiment-configyaml-files">Experiment Config.yaml Files</h3>
<p>The config.yaml file provides information to the rest of Pushkin about the experiment. Below is a sample of what one might look like (after being installed into your site).</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">experimentName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My Cool Experiment</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nt">shortName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My_Cool_Experiment</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nt">apiControllers</span><span class="p">:</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My_Cool_Experiment</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="nt">location</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api controllers</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mycontroller</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="nt">worker</span><span class="p">:</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span><span class="nt">location</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">worker</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="nt">service</span><span class="p">:</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My_Cool_Experiment</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="nt">links</span><span class="p">:</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">message-queue</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_db</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_transaction_db</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">      </span><span class="nt">AMQP_ADDRESS</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;amqp://message-queue:5672&#39;</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">      </span><span class="nt">DB_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">      </span><span class="nt">DB_PASS</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">      </span><span class="nt">DB_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_db</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">      </span><span class="nt">DB_NAME</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_db</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="nt">webPage</span><span class="p">:</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">  </span><span class="nt">location</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web page</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="nt">migrations</span><span class="p">:</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">  </span><span class="nt">location</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">migrations</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="nt">seeds</span><span class="p">:</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">  </span><span class="nt">location</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localtestdb</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="nt">logo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">logo512.png</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="nt">text</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Enter your experiment description here.</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="nt">tagline</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Be a citizen scientist! Try this quiz.</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="nt">duration</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
</span></code></pre></div>
<p>Each of the above fields is explained in detail below.</p>
<h4 id="experimentname">experimentName</h4>
<p>The full name of your experiment. This is used as a display name on the website to users.</p>
<h4 id="shortname">shortName</h4>
<p>This is a short, more computer-friendly version of your experiment’s name. It should be unique as it is used as the folder name in the experiments folder.</p>
<h4 id="apicontrollers">apiControllers</h4>
<p>Note that this is an array. As many API controllers can be used as needed.</p>
<h5 id="mountpath">mountPath</h5>
<p>URL this controller’s endpoint will be available at. The full path is <code>/api/&lt;mountPath&gt;</code>.</p>
<h5 id="location">location</h5>
<p>Path relative to the config file where the CLI will look for this module.</p>
<h4 id="name">name</h4>
<p>Used in logs.</p>
<h4 id="worker">worker</h4>
<h4 id="location_1">location</h4>
<p>Path relative to the config file where the CLI will look for this module.</p>
<h4 id="service">service</h4>
<p>This section is appended to Pushkin’s core Docker Compose file. Note that message-queue is a requirement. If you’re not using the local test database, <code>test_db</code> is not necessary. Database connection credentials should be unique to every user. The defaults are shown here for the testing database.</p>
<h3 id="webpage">webPage</h3>
<h4 id="location_2">location</h4>
<p>Path relative to the config file where the CLI will look for this module.</p>
<h3 id="migrations">migrations</h3>
<h4 id="location_3">location</h4>
<p>Path relative to the config file where the CLI will look for these files.</p>
<h3 id="seeds">seeds</h3>
<h4 id="location_4">location</h4>
<p>Path relative to the config file the CLI will look for these files. If you aren’t seeding a database table, set this to <code>''</code>. Otherwise, if the folder pointed to by <code>location</code> is empty, database setup will fail.</p>
<h3 id="database">database</h3>
<p>A reference to a key defined in the core Pushkin config file. Experiments can share databases. The CLI will use this database to migrate and seed experiment data files. It is not used as connection information for any of the modules running the experiment, since these may or may not be inside containers and cannot use the same connection details as the CLI.</p>
<h3 id="logo-text-tagline-duration-other">logo, text, tagline, duration, other</h3>
<p>You may find it useful to include information about your experiment here that can be used by <code>front-end</code> to describe the experiment to potential subjects. For instance, the default pushkin site template uses:</p>
<ul>
<li><code>logo</code>: Image to be used as the logo for the experiment. The logo images should be stored in <code>pushkin/front-end/src/assets/images/quiz</code>.</li>
<li><code>text</code>: The experiment description to be displayed for users to determine what quiz to play.</li>
<li><code>tagline</code>: This is the description that shows when a quiz is shared via social media/email.</li>
<li><code>duration</code>: The average length of the experiment to give users an idea of the time commitment.</li>
</ul>
<h3 id="worker-component-migrations-and-seeds">Worker Component, Migrations, and Seeds</h3>
<h4 id="experiment-worker-component">Experiment Worker Component</h4>
<p>Workers handle the most complex aspect of a Pushkin experiment and different types of experiments could need workers with very different functionalities. Pushkin provides a simple template to start with.</p>
<p>The job of a worker is to receive messages via RabbitMQ that (usually) come from an API controller. It looks up the appropriate information in the database and returns it to the requester. Workers are also the component that is responsible for implementing machine learning, as having direct access to this data allows it to make live, dynamic decisions during an experiment like what stimuli to serve next or predictions about a subject’s next answers.</p>
<h4 id="experiment-migrations">Experiment Migrations</h4>
<p>Pushkin uses <a href="https://knexjs.org/">knex</a> to manage database tables. Files inside the migrations directory are migration files that describe how to set up and take down the tables needed for an experiment. The CLI handles the details of connecting to and executing the appropriate order of commands required to set up all experiments' tables. Once the table structure has been created, seeding is used to populate the database with experiment data, such as stimuli.</p>
<p>When making a new experiment with new migrations, it is helpful to prefix the filenames with numbers in order to get the order right (you want tables that are going to be referenced by other tables to be created first, so giving them an alphabetically earlier filename is helpful).</p>
<h4 id="experiment-seeds">Experiment Seeds</h4>
<p>Pushkin uses <a href="https://knexjs.org/">knex</a> to facilitate moving data into an experiment’s tables in a database. Files inside the seeds directory are seed files containing the data to be moved and directions on where to put it. Each experiment’s seed files should align with the structure defined in its migration files. The CLI handles the execution of these files.</p>
<h3 id="experiment-web-page-component">Experiment Web Page Component</h3>
<p>This houses the front-end component of an experiment. Each experiment's web page package (as defined in its <code>package.json</code> file) is locally published by the CLI and attached to the core website. Web page components are named using the experiment's <code>shortName</code> (defined in the experiment’s <code>config.yaml</code> file), plus <code>_web</code>. Pushkin uses React for the front end. Experiment web pages are mounted as React components and given the full size of the window under the header and navigation bar.</p>
<h3 id="recommended-structure">Recommended Structure</h3>
<p>At a minimum, the <code>web page/src</code> folder needs to contain an <code>index.js</code> file that includes all your experiment code. Technically, you don't even have to use jsPsych to implement your experiment. However, we recommend building on top of an <a href="./">experiment template</a>. The <code>src</code> folder in experiment templates contains both <code>index.js</code> and <code>experiment.js</code> files. <code>experiment.js</code>, contains a function <code>createTimeline()</code>, within which you construct a jsPsych timeline just as you would for a standard jsPsych experiment; <code>createTimeline()</code> is then exported to <code>index.js</code>. The core functionality of interest is here:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">startExperiment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="w"> </span><span class="nx">experimentStarted</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">});</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">pushkin</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">api</span><span class="p">);</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="c1">// If data collection for the experiment is paused, make sure their userID doesn&#39;t get saved</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">expConfig</span><span class="p">.</span><span class="nx">dataPaused</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">        </span><span class="s2">&quot;Data collection for this experiment is currently paused. No data will be saved.&quot;</span><span class="p">,</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">      </span><span class="p">);</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">      </span><span class="c1">// Wait until userID is not null (necessary for correct data logging in the users and userResults tables)</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">      </span><span class="c1">// Remove this when a better solution is found (see https://github.com/pushkin-consortium/pushkin/issues/352)</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">userID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">));</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">pushkin</span><span class="p">.</span><span class="nx">prepExperimentRun</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">userID</span><span class="p">);</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">jsPsych</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">initJsPsych</span><span class="p">({</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">      </span><span class="nx">display_element</span><span class="o">:</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;jsPsychTarget&quot;</span><span class="p">),</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">      </span><span class="nx">on_finish</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">endExperiment</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">      </span><span class="nx">on_data_update</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">        </span><span class="c1">// Only call saveStimulusResponse if data collection is not paused</span>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">expConfig</span><span class="p">.</span><span class="nx">dataPaused</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="w">          </span><span class="nx">pushkin</span><span class="p">.</span><span class="nx">saveStimulusResponse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="w">    </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">addProperties</span><span class="p">({</span><span class="w"> </span><span class="nx">user_id</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">userID</span><span class="w"> </span><span class="p">});</span><span class="w"> </span><span class="c1">//See https://www.jspsych.org/core_library/jspsych-data/#jspsychdataaddproperties</span>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">timeline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createTimeline</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">);</span>
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="w">    </span><span class="c1">// If data collection for the experiment is paused, insert a confirmation trial notifying the participant</span>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">expConfig</span><span class="p">.</span><span class="nx">dataPaused</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">dataPausedTrial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="w">        </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="sb">`&lt;p&gt;Data collection for this experiment is currently paused.&lt;/p&gt;</span>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a><span class="sb">          &lt;p&gt;You can still view the experiment, but your data will &lt;strong&gt;not&lt;/strong&gt; be saved.&lt;/p&gt;</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a><span class="sb">          &lt;p&gt;Press any key to continue.&lt;/p&gt;`</span><span class="p">,</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="w">      </span><span class="nx">timeline</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">dataPausedTrial</span><span class="p">);</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a><span class="w">    </span><span class="c1">// Get URL parameters</span>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
</span><span id="__span-8-48"><a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="w">    </span><span class="c1">// Run in simulation mode if the appropriate URL parameter is set</span>
</span><span id="__span-8-49"><a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="w">    </span><span class="c1">// and the site is deployed in debug mode</span>
</span><span id="__span-8-50"><a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;simulate&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DEBUG</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-51"><a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a><span class="w">      </span><span class="c1">// Get the simulation mode: &quot;data-only&quot; (default) or &quot;visual&quot;</span>
</span><span id="__span-8-52"><a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;data-only&quot;</span><span class="p">;</span>
</span><span id="__span-8-53"><a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a><span class="w">      </span><span class="c1">// Insert data fields indicating simulation mode</span>
</span><span id="__span-8-54"><a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">simulationOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-55"><a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a><span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-56"><a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a><span class="w">          </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-57"><a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a><span class="w">            </span><span class="nx">simulation</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-8-58"><a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a><span class="w">            </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">mode</span><span class="p">,</span>
</span><span id="__span-8-59"><a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-8-60"><a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-8-61"><a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-8-62"><a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a><span class="w">      </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span><span class="nx">timeline</span><span class="p">,</span><span class="w"> </span><span class="nx">mode</span><span class="p">,</span><span class="w"> </span><span class="nx">simulationOptions</span><span class="p">);</span>
</span><span id="__span-8-63"><a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-64"><a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a><span class="w">      </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="nx">timeline</span><span class="p">);</span>
</span><span id="__span-8-65"><a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-66"><a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a>
</span><span id="__span-8-67"><a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a><span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;jsPsychTarget&quot;</span><span class="p">).</span><span class="nx">focus</span><span class="p">();</span>
</span><span id="__span-8-68"><a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="w"> </span><span class="nx">loading</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">});</span>
</span><span id="__span-8-69"><a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-8-70"><a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a>
</span><span id="__span-8-71"><a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">endExperiment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-72"><a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a><span class="w">    </span><span class="c1">// If data collection is paused, add an ending note and don&#39;t save their completion to the users table</span>
</span><span id="__span-8-73"><a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">expConfig</span><span class="p">.</span><span class="nx">dataPaused</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-74"><a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a><span class="w">      </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;jsPsychTarget&quot;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-8-75"><a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a><span class="w">        </span><span class="sb">`&lt;p&gt;Thank you for your interest in this experiment!&lt;/p&gt;</span>
</span><span id="__span-8-76"><a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a><span class="sb">        &lt;p&gt;Data collection is currently paused. No data were saved.&lt;/p&gt;`</span><span class="p">;</span>
</span><span id="__span-8-77"><a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-78"><a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a><span class="w">      </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;jsPsychTarget&quot;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;p&gt;Processing...&lt;/p&gt;&quot;</span><span class="p">;</span>
</span><span id="__span-8-79"><a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">pushkin</span><span class="p">.</span><span class="nx">tabulateAndPostResults</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">userID</span><span class="p">,</span><span class="w"> </span><span class="nx">expConfig</span><span class="p">.</span><span class="nx">experimentName</span><span class="p">);</span>
</span><span id="__span-8-80"><a id="__codelineno-8-80" name="__codelineno-8-80" href="#__codelineno-8-80"></a><span class="w">      </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;jsPsychTarget&quot;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&lt;p&gt;Thank you for participating!&lt;/p&gt;&quot;</span><span class="p">;</span>
</span><span id="__span-8-81"><a id="__codelineno-8-81" name="__codelineno-8-81" href="#__codelineno-8-81"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-82"><a id="__codelineno-8-82" name="__codelineno-8-82" href="#__codelineno-8-82"></a><span class="w">  </span><span class="p">}</span>
</span></code></pre></div>
<p>A line of code worth noting is <code>on_data_update: (data) =&gt; pushkin.saveStimulusResponse(data)</code>. This uses a helper function from <code>pushkin-client</code> to save data each time the jsPsych <a href="https://www.jspsych.org/7.3/overview/events/#on_data_update">on_data_update callback</a> is triggered (i.e. at the end of each trial). Saving data after each trial is generally good practice, as opposed to sending all the data at the end of the experiment. You could write this behavior into the timeline itself, but this helper function saves some typing.</p>
<p>When your site is running in local debug mode, you can run the experiment in jsPsych's <a href="https://www.jspsych.org/v7/overview/simulation">simulation mode</a> (both the data-only and visual variants). To use simulation mode, add the URL parameters <code>simulate=true</code> and <code>mode=[data-only|visual]</code> to the URL of your experiment (<code>mode</code> is optional and will default to <code>data-only</code>). If you want to pass in any additional experiment-level <a href="https://www.jspsych.org/v7/overview/simulation/#experiment-level-options">simulation options</a>, you can do so by adding them to the <code>simulationOptions</code> object.</p>
<p>Finally, when the timeline finishes, <code>endExperiment()</code> will be called. In the current experiment templates, this simply adds a "Thank you for participating" message. <a href="#currently-available-experiment-templates">Current templates</a> besides the basic template include some simple feedback which is specified <em>inside</em> the jsPsych timeline; however, one might have reasons for integrating more complex feedback into <code>endExperiment()</code>.</p>
<h4 id="assets">Assets</h4>
<p>The <code>assets</code> folder primarily contains static assets that will be imported by React. It also contains a folder called <code>timeline</code>, which holds assets which are needed inside the jsPsych timeline (e.g. audiovisual stimuli). The contents of the timeline assets folder get copied to the site's <code>pushkin/front-end/public/experiments/[experiment_name]</code> folder during <code>pushkin prep</code> (see <a href="#adding-static-assets">above</a>). The reason this is necessary is that jsPsych timelines are not compiled by React, so the contents of the <code>assets</code> directory will not be accessible when jsPsych runs. However, create-react-app provides a nifty workaround: <code>process.env.PUBLIC_URL</code> will point to the folder <code>pushkin/front-end/public</code> during runtime.</p>
<h3 id="customizing-the-client">Customizing the client</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is a work in progress!</p>
</div>
<p>If you need to extend the client with custom API calls, etc., you should extend the <code>defaultClient</code> class.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../site-templates/site-basic/" class="md-footer__link md-footer__link--prev" aria-label="Previous: site-basic">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                site-basic
              </div>
            </div>
          </a>
        
        
          
          <a href="../exp-basic/" class="md-footer__link md-footer__link--next" aria-label="Next: exp-basic">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                exp-basic
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2015-2024 Joshua Hartshorne
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.footer", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotate", "content.code.copy", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.471ce7a9.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../javascripts/tablesort.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>